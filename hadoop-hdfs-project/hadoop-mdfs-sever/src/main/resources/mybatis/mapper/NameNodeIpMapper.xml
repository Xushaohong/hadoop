<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tencent.mdfs.provider.orm.NameNodeIpMapper" >
  <update id="update" parameterType="com.tencent.mdfs.provider.pojo.NameNodeIp" >
    update hadoop_cluster_namenode_ip set available_nn = #{availableNn} where cluster_id = #{clusterId} and (
      active_nn = #{availableNn} or standby_nn = #{availableNn} or secondary_nn = #{availableNn}
    )
  </update>
</mapper>